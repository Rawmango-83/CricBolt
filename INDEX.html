<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Doubts</title>
  <style>
/* ---------- Global ---------- */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(120deg, #f0f4ff, #f9fbff);
  color: #333;
}

/* ---------- Header ---------- */
.top-header {
  background: linear-gradient(135deg, #4f46e5, #3b82f6);
  color: white;
  padding: 30px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.top-header h1 {
  margin: 0;
  font-size: 28px;
}

.top-header p {
  margin: 5px 0 0;
  opacity: 0.9;
}

/* ---------- Buttons ---------- */
.btn-primary {
  background: white;
  color: #3b82f6;
  padding: 12px 18px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: 0.3s;
}

.btn-primary:hover {
  background: #eef2ff;
  transform: translateY(-2px);
}

/* ---------- Layout ---------- */
.container {
  max-width: 900px;
  margin: 30px auto;
  padding: 0 20px;
}

/* ---------- Doubt Card ---------- */
.doubt-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.08);
  transition: 0.3s;
}

.doubt-card:hover {
  transform: translateY(-4px);
}

.doubt-card h3 {
  margin-top: 0;
  color: #4f46e5;
}

.doubt-card .question {
  font-size: 15px;
  line-height: 1.6;
  margin: 15px 0;
}

.doubt-card button {
  background: #4f46e5;
  color: white;
  border: none;
  padding: 10px 14px;
  border-radius: 6px;
  cursor: pointer;
}

.doubt-card button:hover {
  background: #4338ca;
}

/* ---------- Form ---------- */
.form-container {
  max-width: 500px;
  background: white;
  margin: 60px auto;
  padding: 30px;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.form-container h2 {
  margin-top: 0;
  color: #4f46e5;
}

.form-container p {
  color: #666;
  margin-bottom: 20px;
}

input, textarea {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border-radius: 8px;
  border: 1px solid #ddd;
  font-size: 14px;
}

textarea {
  height: 120px;
  resize: none;
}

input:focus, textarea:focus {
  outline: none;
  border-color: #4f46e5;
}

/* ---------- Mobile ---------- */
@media (max-width: 600px) {
  .top-header {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
}

/* ---------- Intro Section ---------- */
.intro-section {
  max-width: 900px;
  margin: 40px auto;
  padding: 0 20px;
}

.intro-section h2 {
  color: #4f46e5;
}

.intro-section p {
  font-size: 16px;
  line-height: 1.7;
  color: #555;
}

/* ---------- Info Grid ---------- */
.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  max-width: 900px;
  margin: 40px auto;
  padding: 0 20px;
}

.info-card {
  background: white;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.08);
}

.info-card h3 {
  margin-top: 0;
  color: #4f46e5;
}

/* ---------- Trust Section ---------- */
.trust-section {
  background: #eef2ff;
  padding: 40px 20px;
  margin-top: 50px;
}

.trust-section h2 {
  text-align: center;
  color: #4f46e5;
}

.trust-section ul {
  max-width: 500px;
  margin: 20px auto;
  list-style: none;
  padding: 0;
}

.trust-section li {
  padding: 8px 0;
  font-size: 16px;
}

/* ---------- Footer ---------- */
.footer {
  background: #111827;
  color: #9ca3af;
  text-align: center;
  padding: 20px;
  font-size: 14px;
}

</style>
</head>
<body>

 <header class="top-header">
    <div>
      <h1>Student Doubts Portal</h1>
      <p>Ask ‚Ä¢ Share ‚Ä¢ Learn Together</p>
    </div>
    <a href="ask.html" class="btn-primary">Ask a Doubt</a>
  </header>

  <main class="container">
    <section id="doubts-container"></section>
  </main>

<section class="intro-section">
  <h2>About This Platform</h2>
  <p>
    This portal is designed to help students openly share their academic doubts
    and queries in a structured and accessible way. All submitted questions are
    displayed publicly so that learning becomes collaborative and transparent.
  </p>
</section>
<section class="info-grid">
  <div class="info-card">
    <h3>üìù Ask a Doubt</h3>
    <p>
      Students can submit their questions with subject details.
      Submissions can be anonymous if preferred.
    </p>
  </div>

  <div class="info-card">
    <h3>üëÄ View & Learn</h3>
    <p>
      All doubts are displayed in a dedicated section, allowing
      others to learn from similar questions.
    </p>
  </div>

  <div class="info-card">
    <h3>üìÑ Download as PDF</h3>
    <p>
      Each doubt can be downloaded as a PDF for offline study,
      revision, or sharing with teachers.
    </p>
  </div>
</section>
<section class="trust-section">
  <h2>Why Use This Portal?</h2>
  <ul>
    <li>‚úî Encourages doubt-based learning</li>
    <li>‚úî Clean, distraction-free interface</li>
    <li>‚úî Accessible on all devices</li>
    <li>‚úî No login required to ask questions</li>
  </ul>
</section>
<footer class="footer">
  <p>¬© 2025 Student Doubts Portal</p>
  <p>Built for educational and learning purposes</p>
</footer>

  <!-- Libraries -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>


  <!-- Custom JS -->
<script>
  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyD2b7olNiSiSHlmARKsi5Z4dtexcNFmHCc",
    authDomain: "acc7-fa0f8.firebaseapp.com",
    projectId: "acc7-fa0f8",
    storageBucket: "acc7-fa0f8.appspot.com",
    messagingSenderId: "1028865640931",
    appId: "1:1028865640931:web:cf14d0f1648342de88b8d6"
  };

  // Initialize Firebase (COMPAT WAY)
  firebase.initializeApp(firebaseConfig);

  // Initialize Firestore
  const db = firebase.firestore();

  const container = document.getElementById("doubts-container");

  // Fetch doubts
  db.collection("doubts")
    .orderBy("createdAt", "desc")
    .onSnapshot(snapshot => {
      container.innerHTML = "";

      if (snapshot.empty) {
        container.innerHTML = "<p>No doubts submitted yet.</p>";
        return;
      }

      snapshot.forEach(doc => {
        const d = doc.data();

        const div = document.createElement("div");
        div.className = "doubt-card";
        div.innerHTML = `
          <h3>${d.subject}</h3>
          <p><strong>${d.name}</strong></p>
          <p class="question">${d.question}</p>
          <button onclick="downloadPDF(this)">Download PDF</button>
        `;
        container.appendChild(div);
      });
    });

  // PDF download
  function downloadPDF(button) {
    const card = button.parentElement;

    html2pdf().from(card).set({
      margin: 10,
      filename: "student-doubt.pdf",
      html2canvas: { scale: 2 },
      jsPDF: { unit: "mm", format: "a4" }
    }).save();
  }
</script>

</body>
</html>
